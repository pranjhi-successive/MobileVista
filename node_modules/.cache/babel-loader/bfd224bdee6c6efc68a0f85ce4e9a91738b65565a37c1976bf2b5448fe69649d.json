{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect } from \"react\";\nimport { AuthenticationContext } from \"../../modules/User/Authentication/Context\";\nimport apiInstance from \"../../service/services\";\nconst PublicRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    setIsAuthenticated\n  } = useContext(AuthenticationContext);\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        await apiInstance.get(\"/user/token\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setIsAuthenticated(true);\n      } catch (error) {\n        localStorage.clear();\n        setIsAuthenticated(false);\n      }\n    };\n    getUser();\n  }, []);\n  return children;\n};\n_s(PublicRoute, \"Ev7EbJefzgim8ntR+kaLmoYCWUw=\");\n_c = PublicRoute;\nexport default PublicRoute;\nvar _c;\n$RefreshReg$(_c, \"PublicRoute\");","map":{"version":3,"names":["useContext","useEffect","AuthenticationContext","apiInstance","PublicRoute","children","_s","setIsAuthenticated","getUser","get","headers","Authorization","localStorage","getItem","error","clear","_c","$RefreshReg$"],"sources":["/home/pranjhi.singh/Desktop/MobileVista/mobile-app/src/Routes/authRoutes/publicRoutes.jsx"],"sourcesContent":["import { useContext, useEffect } from \"react\";\nimport { AuthenticationContext } from \"../../modules/User/Authentication/Context\";\n\nimport apiInstance from \"../../service/services\";\n\nconst PublicRoute = ({ children }) => {\n  const { setIsAuthenticated } = useContext(AuthenticationContext);\n\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        await apiInstance.get(\"/user/token\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        });\n\n        setIsAuthenticated(true);\n      } catch (error) {\n        localStorage.clear();\n        setIsAuthenticated(false);\n      } \n    };\n\n    getUser();\n  }, []);\n\n  return  children;\n};\nexport default PublicRoute;\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,SAAS,QAAQ,OAAO;AAC7C,SAASC,qBAAqB,QAAQ,2CAA2C;AAEjF,OAAOC,WAAW,MAAM,wBAAwB;AAEhD,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM;IAAEC;EAAmB,CAAC,GAAGP,UAAU,CAACE,qBAAqB,CAAC;EAEhED,SAAS,CAAC,MAAM;IACd,MAAMO,OAAO,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACF,MAAML,WAAW,CAACM,GAAG,CAAC,aAAa,EAAE;UACnCC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;UACzD;QACF,CAAC,CAAC;QAEFN,kBAAkB,CAAC,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOO,KAAK,EAAE;QACdF,YAAY,CAACG,KAAK,CAAC,CAAC;QACpBR,kBAAkB,CAAC,KAAK,CAAC;MAC3B;IACF,CAAC;IAEDC,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EAEN,OAAQH,QAAQ;AAClB,CAAC;AAACC,EAAA,CAvBIF,WAAW;AAAAY,EAAA,GAAXZ,WAAW;AAwBjB,eAAeA,WAAW;AAAC,IAAAY,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}