{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext, useEffect, useState } from \"react\";\nimport { AuthenticationContext } from \"../../modules/User/Authentication/Context\";\nimport axios from \"axios\";\nimport { Navigate } from \"react-router-dom\";\nimport apiInstance from \"../../service/services\";\nconst PublicRoute = ({\n  children\n}) => {\n  _s();\n  const {\n    setIsAuthenticated\n  } = useContext(AuthenticationContext);\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        await apiInstance.get(\"http://localhost:4000/user/token\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n          }\n        });\n        setIsAuthenticated(true);\n      } catch (error) {\n        localStorage.clear();\n        setIsAuthenticated(false);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getUser();\n  }, []);\n  return children;\n};\n_s(PublicRoute, \"Rcrjh8s8BRabLGrax7KehwVQ3S4=\");\n_c = PublicRoute;\nexport default PublicRoute;\nvar _c;\n$RefreshReg$(_c, \"PublicRoute\");","map":{"version":3,"names":["useContext","useEffect","useState","AuthenticationContext","axios","Navigate","apiInstance","PublicRoute","children","_s","setIsAuthenticated","isLoading","setIsLoading","getUser","get","headers","Authorization","localStorage","getItem","error","clear","_c","$RefreshReg$"],"sources":["/home/pranjhi.singh/Desktop/MobileVista/mobile-app/src/Routes/authRoutes/publicRoutes.jsx"],"sourcesContent":["import { useContext, useEffect, useState } from \"react\";\nimport { AuthenticationContext } from \"../../modules/User/Authentication/Context\";\n\nimport axios from \"axios\";\nimport { Navigate } from \"react-router-dom\";\nimport apiInstance from \"../../service/services\";\n\nconst PublicRoute = ({ children }) => {\n  const { setIsAuthenticated} = useContext(AuthenticationContext);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const getUser = async () => {\n      try {\n        await apiInstance.get(\"http://localhost:4000/user/token\", {\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n          },\n        });\n\n        setIsAuthenticated(true);\n      } catch (error) {\n        localStorage.clear();\n        setIsAuthenticated(false);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    getUser();\n  }, []);\n\n  \n    return children;\n \n};\nexport default PublicRoute;\n"],"mappings":";AAAA,SAASA,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACvD,SAASC,qBAAqB,QAAQ,2CAA2C;AAEjF,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,OAAOC,WAAW,MAAM,wBAAwB;AAEhD,MAAMC,WAAW,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EACpC,MAAM;IAAEC;EAAkB,CAAC,GAAGV,UAAU,CAACG,qBAAqB,CAAC;EAC/D,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAEhDD,SAAS,CAAC,MAAM;IACd,MAAMY,OAAO,GAAG,MAAAA,CAAA,KAAY;MAC1B,IAAI;QACF,MAAMP,WAAW,CAACQ,GAAG,CAAC,kCAAkC,EAAE;UACxDC,OAAO,EAAE;YACPC,aAAa,EAAG,UAASC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAE;UACzD;QACF,CAAC,CAAC;QAEFR,kBAAkB,CAAC,IAAI,CAAC;MAC1B,CAAC,CAAC,OAAOS,KAAK,EAAE;QACdF,YAAY,CAACG,KAAK,CAAC,CAAC;QACpBV,kBAAkB,CAAC,KAAK,CAAC;MAC3B,CAAC,SAAS;QACRE,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAEDC,OAAO,CAAC,CAAC;EACX,CAAC,EAAE,EAAE,CAAC;EAGJ,OAAOL,QAAQ;AAEnB,CAAC;AAACC,EAAA,CA5BIF,WAAW;AAAAc,EAAA,GAAXd,WAAW;AA6BjB,eAAeA,WAAW;AAAC,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}